[pyprland]
plugins = [
  "gbar",
  "shortcuts_menu",
  "toggle_special",
  "scratchpads",
  "layout_center",
  "lost_windows",
  "monitors",
  "toggle_special",
  "shift_monitors",
  "toggle_dpms",
  "magnify",
  "expose",
  "shift_monitors",
  "workspaces_follow_focus",
  "fetch_client_menu"
]

[pyprland.variables]
term = "kitty"
term_classed = "kitty --class"

[workspaces_follow_focus]
max_workspaces = 9

[expose]
include_special = false

[scratchpads.stb]
animation = "fromBottom"
command = "[term_classed] kitty-stb sstb"
class = "kitty-stb"
lazy = true
size = "75% 45%"

[scratchpads.stb-logs]
animation = "fromTop"
command = "[term_classed] kitty-stb-logs stbLog"
class = "kitty-stb-logs"
lazy = true
size = "75% 40%"

[scratchpads.term]
animation = "fromTop"
command = "[term_classed] kitty-dropterm"
class = "kitty-dropterm"
size = "75% 60%"
max_size = "1920px 100%"

[scratchpads.volume]
animation = "fromRight"
command = "pavucontrol"
class = "pavucontrol"
lazy = true
size = "40% 90%"
max_size = "1080px 100%"
unfocus = "hide"

[monitors]
unknown = "wlrlui"

[monitors.placement.BenQ]
Top_Center_Of = "DP-1" # projo

[monitors.placement."eDP-1"]
bottom_Center_Of = "DELL" # work

[layout_center]
margin = 60
offset = [0, 30]
next = "movefocus r"
prev = "movefocus l"
next2 = "movefocus d"
prev2 = "movefocus u"

[shortcuts_menu]
# engine = "rofi"
# parameters = "-p '[prompt] üç∞ ' -dmenu -matching fuzzy -i"
command_start = "Û∞úé"

[shortcuts_menu.entries]
"Jira ticket (open)" = 'jisho "$(wl-paste)"'
"WIKI" = "xdg-open http://localhost:8000/"
"Serial USB Term" = [
    {name="speed", options=["115200", "9600", "38400", "115200", "25600", "512000"] },
    {name="device", command="ls -1 /dev/ttyUSB*; ls -1 /dev/ttyACM*" },
    "[term] miniterm --raw --eol LF [device] [speed]"
]

"Fetch window" = "pypr fetch_client_menu"
"Waybar restart" = "pkill -9 waybar ; setsid waybar"

"Jira CheatSheet" = "xdg-open https://cheatography.com/rhorber/cheat-sheets/jira-text-formatting-notation/"

"Copy password" = [
    {name="what", command="gopass ls --flat"},
    "gopass show -c [what]"
]
"Update/Change password" = [
    {name="what", command="gopass ls --flat"},
    "[term] -- gopass generate -s --strict -t '[what]' && gopass show -c '[what]'"
]

"Clip" = [
    {name="entry", command="cliphist list", filter="s/\t.*//"},
    "cliphist decode '[entry]' | wl-copy"
]

"Color picker" = [
    {name="format", options=["hex", "rgb", "hsv", "hsl", "cmyk"]},
    "sleep 0.2; hyprpicker --format [format] | wl-copy" # sleep to let the menu close before the picker opens
]


[shortcuts_menu.entries.Hypr]
Relayout = "pypr relayout"
Reload = "pypr reload"
"Hyprland socket" = '[term]  socat - "UNIX-CONNECT:$XDG_RUNTIME_DIR/hypr/$HYPRLAND_INSTANCE_SIGNATURE/.socket2.sock"'
"Hyprland logs" = '[term] tail -f $XDG_RUNTIME_DIR/hypr/$HYPRLAND_INSTANCE_SIGNATURE/hyprland.log'

[shortcuts_menu.entries.Sound]
"Network ready" = "pactl load-module module-zeroconf-discover"
"Disconnect Clam Headphones" =  "bluetoothctl disconnect XX:BB:AA:ZZ:CC:YY"

[shortcuts_menu.entries."HDMI Capture"]
"Stop background" = "pkill mpvpaper"
"Play background" = '''
    mpvpaper -o "--demuxer-lavf-format=video4linux2 --demuxer-lavf-o-set=input_format=mjpeg" eDP-1 av://v4l2:$(v4l2-ctl --list-devices |grep -A1 USB3.0 | tail -n 1  | sed -E 's/^\s*//g')
    '''
"Play in a window" = '''
    mpv --cache=no --demuxer-lavf-format=video4linux2 --demuxer-lavf-o-set=input_format=mjpeg av://v4l2:$(v4l2-ctl --list-devices |grep -A1 USB3.0 | tail -n 1  | sed -E 's/^\s*//g')
    '''

[gbar]
 monitors = ["eDP-1", "DP-1", "HDMI-A-1"]
